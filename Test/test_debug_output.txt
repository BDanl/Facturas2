2025-08-07 14:00:23,564 - __main__ - INFO - 
================================================================================
2025-08-07 14:00:23,564 - __main__ - INFO - ==================== 1. INICIALIZACIÓN DE LA BASE DE DATOS =====================
2025-08-07 14:00:23,564 - __main__ - INFO - ================================================================================

2025-08-07 14:00:23,564 - __main__ - INFO - Creando instancia de Database...
2025-08-07 14:00:23,565 - database - INFO - Conexión a base de datos en memoria creada
2025-08-07 14:00:23,565 - database - INFO - Iniciando creación de tablas...
2025-08-07 14:00:23,565 - database - INFO - Conexión a la base de datos establecida
2025-08-07 14:00:23,565 - database - INFO - Creando tabla 'tipos_gasto' si no existe...
2025-08-07 14:00:23,565 - database - INFO - Tabla 'tipos_gasto' creada o verificada
2025-08-07 14:00:23,565 - database - INFO - Creando tabla 'facturas' si no existe...
2025-08-07 14:00:23,565 - database - INFO - Tabla 'facturas' creada o verificada
2025-08-07 14:00:23,565 - database - INFO - Creando índices...
2025-08-07 14:00:23,567 - database - INFO - Índices creados o verificados
2025-08-07 14:00:23,567 - database - INFO - Insertando tipos de gasto por defecto...
2025-08-07 14:00:23,568 - database - INFO - Tablas en la base de datos: ['tipos_gasto', 'sqlite_sequence', 'facturas']
2025-08-07 14:00:23,568 - database - INFO - Cambios confirmados en la base de datos
2025-08-07 14:00:23,568 - __main__ - INFO - ✓ Base de datos en memoria inicializada correctamente
2025-08-07 14:00:23,568 - __main__ - DEBUG - Ejecutando consulta SQL en _get_connection
2025-08-07 14:00:23,568 - __main__ - DEBUG - Consulta SQL exitosa en _get_connection
2025-08-07 14:00:23,568 - __main__ - DEBUG - Ejecutando consulta para listar tablas...
2025-08-07 14:00:23,569 - __main__ - INFO - Tablas en la base de datos: ['tipos_gasto', 'sqlite_sequence', 'facturas']
2025-08-07 14:00:23,569 - __main__ - DEBUG - La tabla 'tipos_gasto' existe, obteniendo su estructura...
2025-08-07 14:00:23,569 - __main__ - INFO - Estructura de la tabla 'tipos_gasto':
2025-08-07 14:00:23,569 - __main__ - INFO -   id (INTEGER)
2025-08-07 14:00:23,569 - __main__ - INFO -   nombre (TEXT)
2025-08-07 14:00:23,569 - __main__ - INFO -   descripcion (TEXT)
2025-08-07 14:00:23,569 - __main__ - INFO -   color (TEXT)
2025-08-07 14:00:23,569 - __main__ - INFO - 
================================================================================
2025-08-07 14:00:23,569 - __main__ - INFO - ======================== 2. PRUEBA DE CREACIÓN (CREATE) ========================
2025-08-07 14:00:23,569 - __main__ - INFO - ================================================================================

2025-08-07 14:00:23,569 - __main__ - INFO - Agregando tipos de gasto...
2025-08-07 14:00:23,571 - __main__ - DEBUG - Ejecutando consulta SQL en agregar_factura
2025-08-07 14:00:23,575 - __main__ - DEBUG - Consulta SQL exitosa en agregar_factura
2025-08-07 14:00:23,576 - __main__ - DEBUG - Ejecutando consulta SQL en agregar_factura
2025-08-07 14:00:23,576 - __main__ - DEBUG - Consulta SQL exitosa en agregar_factura
2025-08-07 14:00:23,577 - __main__ - DEBUG - Ejecutando consulta SQL en agregar_factura
2025-08-07 14:00:23,577 - __main__ - DEBUG - Consulta SQL exitosa en agregar_factura
2025-08-07 14:00:23,577 - __main__ - INFO - ✓ Tipos de gasto agregados a través de facturas
2025-08-07 14:00:23,577 - __main__ - DEBUG - Ejecutando consulta SQL en obtener_tipos_gasto
2025-08-07 14:00:23,577 - __main__ - DEBUG - Consulta SQL exitosa en obtener_tipos_gasto
2025-08-07 14:00:23,577 - __main__ - INFO - Tipos de gasto en la base de datos: 8
2025-08-07 14:00:23,577 - __main__ - INFO -   1. Educación - Cursos, libros, etc.
2025-08-07 14:00:23,578 - __main__ - INFO -   2. Entretenimiento - Cine, salidas, etc.
2025-08-07 14:00:23,578 - __main__ - INFO -   3. Gastos fijos - Gastos fijos mensuales
2025-08-07 14:00:23,578 - __main__ - INFO -   4. Mercado - Compras de supermercado
2025-08-07 14:00:23,578 - __main__ - INFO -   5. Otros - Otros gastos
2025-08-07 14:00:23,578 - __main__ - INFO -   6. Salud - Gastos médicos
2025-08-07 14:00:23,578 - __main__ - INFO -   7. Servicios - Luz, agua, internet, etc.
2025-08-07 14:00:23,578 - __main__ - INFO -   8. Transporte - Transporte público/privado
2025-08-07 14:00:23,579 - __main__ - INFO - 
Agregando facturas de prueba...
2025-08-07 14:00:23,579 - __main__ - DEBUG - Ejecutando consulta SQL en agregar_factura
2025-08-07 14:00:23,579 - __main__ - DEBUG - Consulta SQL exitosa en agregar_factura
2025-08-07 14:00:23,580 - __main__ - INFO -   Factura 1 agregada con ID: 4
2025-08-07 14:00:23,580 - __main__ - DEBUG - Ejecutando consulta SQL en agregar_factura
2025-08-07 14:00:23,580 - __main__ - DEBUG - Consulta SQL exitosa en agregar_factura
2025-08-07 14:00:23,580 - __main__ - INFO -   Factura 2 agregada con ID: 5
2025-08-07 14:00:23,580 - __main__ - DEBUG - Ejecutando consulta SQL en agregar_factura
2025-08-07 14:00:23,581 - __main__ - DEBUG - Consulta SQL exitosa en agregar_factura
2025-08-07 14:00:23,581 - __main__ - INFO -   Factura 3 agregada con ID: 6
2025-08-07 14:00:23,581 - __main__ - DEBUG - Ejecutando consulta SQL en agregar_factura
2025-08-07 14:00:23,581 - __main__ - DEBUG - Consulta SQL exitosa en agregar_factura
2025-08-07 14:00:23,581 - __main__ - INFO -   Factura 4 agregada con ID: 7
2025-08-07 14:00:23,581 - __main__ - DEBUG - Ejecutando consulta SQL en agregar_factura
2025-08-07 14:00:23,582 - __main__ - DEBUG - Consulta SQL exitosa en agregar_factura
2025-08-07 14:00:23,582 - __main__ - INFO -   Factura 5 agregada con ID: 8
2025-08-07 14:00:23,582 - __main__ - INFO - 
================================================================================
2025-08-07 14:00:23,582 - __main__ - INFO - ========================= 3. PRUEBA DE LECTURA (READ) ==========================
2025-08-07 14:00:23,582 - __main__ - INFO - ================================================================================

2025-08-07 14:00:23,582 - __main__ - DEBUG - Ejecutando consulta SQL en obtener_facturas
2025-08-07 14:00:23,582 - __main__ - DEBUG - Consulta SQL exitosa en obtener_facturas
2025-08-07 14:00:23,582 - __main__ - INFO - Total de facturas en la base de datos: 8
2025-08-07 14:00:23,583 - __main__ - INFO -   1. ID: 4, Fecha: 06/08/2025, Tipo: Transporte, Valor: $1,000.00
2025-08-07 14:00:23,583 - __main__ - INFO -   2. ID: 5, Fecha: 05/08/2025, Tipo: Entretenimiento, Valor: $2,000.00
2025-08-07 14:00:23,583 - __main__ - INFO -   3. ID: 6, Fecha: 04/08/2025, Tipo: Mercado, Valor: $3,000.00
2025-08-07 14:00:23,583 - __main__ - INFO -   4. ID: 7, Fecha: 03/08/2025, Tipo: Transporte, Valor: $4,000.00
2025-08-07 14:00:23,583 - __main__ - INFO -   5. ID: 8, Fecha: 02/08/2025, Tipo: Entretenimiento, Valor: $5,000.00
2025-08-07 14:00:23,583 - __main__ - INFO -   6. ID: 3, Fecha: 01/01/2025, Tipo: Entretenimiento, Valor: $1,000.00
2025-08-07 14:00:23,583 - __main__ - INFO -   7. ID: 2, Fecha: 01/01/2025, Tipo: Transporte, Valor: $1,000.00
2025-08-07 14:00:23,584 - __main__ - INFO -   8. ID: 1, Fecha: 01/01/2025, Tipo: Mercado, Valor: $1,000.00
2025-08-07 14:00:23,584 - __main__ - INFO - 
Obteniendo resumen por tipo de gasto...
2025-08-07 14:00:23,584 - __main__ - DEBUG - Ejecutando consulta SQL en obtener_resumen_por_tipo
2025-08-07 14:00:23,584 - __main__ - DEBUG - Consulta SQL exitosa en obtener_resumen_por_tipo
2025-08-07 14:00:23,584 - __main__ - INFO -   1. Entretenimiento: $8,000.00 (3 facturas)
2025-08-07 14:00:23,584 - __main__ - INFO -   2. Transporte: $6,000.00 (3 facturas)
2025-08-07 14:00:23,584 - __main__ - INFO -   3. Mercado: $4,000.00 (2 facturas)
2025-08-07 14:00:23,584 - __main__ - INFO -   4. Educación: $0.00 (0 facturas)
2025-08-07 14:00:23,584 - __main__ - INFO -   5. Gastos fijos: $0.00 (0 facturas)
2025-08-07 14:00:23,586 - __main__ - INFO -   6. Otros: $0.00 (0 facturas)
2025-08-07 14:00:23,586 - __main__ - INFO -   7. Salud: $0.00 (0 facturas)
2025-08-07 14:00:23,586 - __main__ - INFO -   8. Servicios: $0.00 (0 facturas)
2025-08-07 14:00:23,586 - __main__ - INFO - 
Obteniendo resumen mensual...
2025-08-07 14:00:23,586 - __main__ - DEBUG - Ejecutando consulta SQL en obtener_resumen_mensual
2025-08-07 14:00:23,586 - __main__ - DEBUG - Consulta SQL exitosa en obtener_resumen_mensual
2025-08-07 14:00:23,586 - __main__ - INFO -   1. 2025-01: $3,000.00
2025-08-07 14:00:23,586 - __main__ - INFO -   2. 2025-08: $15,000.00
2025-08-07 14:00:23,586 - __main__ - INFO - 
================================================================================
2025-08-07 14:00:23,587 - __main__ - INFO - ===================== 4. PRUEBA DE ACTUALIZACIÓN (UPDATE) ======================
2025-08-07 14:00:23,587 - __main__ - INFO - ================================================================================

2025-08-07 14:00:23,587 - __main__ - INFO - Actualizando factura ID: 4
2025-08-07 14:00:23,587 - __main__ - DEBUG - Ejecutando consulta SQL en actualizar_factura
2025-08-07 14:00:23,588 - __main__ - DEBUG - Consulta SQL exitosa en actualizar_factura
2025-08-07 14:00:23,588 - __main__ - INFO - ✓ Factura actualizada correctamente
2025-08-07 14:00:23,588 - __main__ - DEBUG - Ejecutando consulta SQL en obtener_facturas
2025-08-07 14:00:23,588 - __main__ - DEBUG - Consulta SQL exitosa en obtener_facturas
2025-08-07 14:00:23,588 - __main__ - INFO -   Fecha: 31/12/2024
2025-08-07 14:00:23,589 - __main__ - INFO -   Descripción: Factura actualizada
2025-08-07 14:00:23,589 - __main__ - INFO -   Valor: $9,999.99
2025-08-07 14:00:23,589 - __main__ - INFO - 
================================================================================
2025-08-07 14:00:23,589 - __main__ - INFO - ====================== 5. PRUEBA DE ELIMINACIÓN (DELETE) =======================
2025-08-07 14:00:23,589 - __main__ - INFO - ================================================================================

2025-08-07 14:00:23,589 - __main__ - INFO - Eliminando factura ID: 5
2025-08-07 14:00:23,590 - __main__ - DEBUG - Ejecutando consulta SQL en eliminar_factura
2025-08-07 14:00:23,590 - __main__ - DEBUG - Consulta SQL exitosa en eliminar_factura
2025-08-07 14:00:23,590 - __main__ - INFO - ✓ Factura eliminada correctamente
2025-08-07 14:00:23,590 - __main__ - DEBUG - Ejecutando consulta SQL en obtener_facturas
2025-08-07 14:00:23,590 - __main__ - DEBUG - Consulta SQL exitosa en obtener_facturas
2025-08-07 14:00:23,591 - __main__ - INFO -   La factura ya no existe en la base de datos
2025-08-07 14:00:23,591 - __main__ - INFO - 
================================================================================
2025-08-07 14:00:23,591 - __main__ - INFO - ==================== 6. VERIFICACIÓN DE INTEGRIDAD DE DATOS ====================
2025-08-07 14:00:23,591 - __main__ - INFO - ================================================================================

2025-08-07 14:00:23,591 - __main__ - DEBUG - Ejecutando consulta SQL en obtener_tipos_gasto
2025-08-07 14:00:23,591 - __main__ - DEBUG - Consulta SQL exitosa en obtener_tipos_gasto
2025-08-07 14:00:23,591 - __main__ - INFO - ✓ No hay tipos de gasto duplicados
2025-08-07 14:00:23,592 - __main__ - DEBUG - Ejecutando consulta SQL en obtener_facturas
2025-08-07 14:00:23,593 - __main__ - DEBUG - Consulta SQL exitosa en obtener_facturas
2025-08-07 14:00:23,593 - __main__ - INFO - ✓ Todas las facturas tienen tipos de gasto válidos
2025-08-07 14:00:23,593 - __main__ - INFO - 
¡Todas las pruebas se completaron exitosamente!
